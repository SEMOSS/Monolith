<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:web="http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee" version="3.1">
   <display-name>Monolith_Dev</display-name>
   <welcome-file-list>
      <welcome-file>index.html</welcome-file>
   </welcome-file-list>
   <filter>
      <filter-name>UserDBFilter</filter-name>
      <filter-class>prerna.web.conf.UserDBFilter</filter-class>
   </filter>
   <filter-mapping>
      <filter-name>UserDBFilter</filter-name>
      <url-pattern>/api/*</url-pattern>
   </filter-mapping>
   <filter>
      <filter-name>UserDBInsightFilter</filter-name>
      <filter-class>prerna.web.conf.UserDBInsightFilter</filter-class>
   </filter>
   <filter-mapping>
      <filter-name>UserDBInsightFilter</filter-name>
      <url-pattern>/api/*</url-pattern>
   </filter-mapping>
   <!--  Waffle it !! 
	<filter>
		<filter-name>SecurityFilter</filter-name>
		<filter-class>waffle.servlet.NegotiateSecurityFilter</filter-class>
		<init-param>
			<param-name>principalFormat</param-name>
			<param-value>fqn</param-value>
		</init-param>
		<init-param>
			<param-name>roleFormat</param-name>
			<param-value>both</param-value>
		</init-param>
		<init-param>
			<param-name>allowGuestLogin</param-name>
			<param-value>true</param-value>
		</init-param>
		<init-param>
			<param-name>impersonate</param-name>
			<param-value>true</param-value>
		</init-param>
		<init-param>
			<param-name>securityFilterProviders</param-name>
			<param-value>
	          waffle.servlet.spi.BasicSecurityFilterProvider
	          waffle.servlet.spi.NegotiateSecurityFilterProvider
	      </param-value>
		</init-param>
		<init-param>
			<param-name>securityFilterProviders</param-name>
			<param-value>
	          waffle.servlet.spi.BasicSecurityFilterProvider
	          waffle.servlet.spi.NegotiateSecurityFilterProvider
	      </param-value>
		</init-param>
		<init-param>
			<param-name>waffle.servlet.spi.NegotiateSecurityFilterProvider/protocols</param-name>
			<param-value>
	          Negotiate
	          NTLM
	      </param-value>
		</init-param>
	</filter>
	<filter-mapping>
		<filter-name>SecurityFilter</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>
	End Waffle -->
   <absolute-ordering>
      <name>UserDBInsightFilter</name>
      <name>UserDBFilter</name>
   </absolute-ordering>
   <servlet>
      <servlet-name>Resteasy</servlet-name>
      <servlet-class>org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher</servlet-class>
      <init-param>
         <param-name>javax.ws.rs.Application</param-name>
         <param-value>prerna.semoss.web.app.MonolithApplication</param-value>
      </init-param>
   </servlet>
   <context-param>
      <param-name>isLog4jAutoInitializationDisabled</param-name>
      <param-value>false</param-value>
   </context-param>
   <context-param>
      <param-name>resteasy.servlet.mapping.prefix</param-name>
      <param-value>/api</param-value>
   </context-param>
   <servlet-mapping>
      <servlet-name>Resteasy</servlet-name>
      <url-pattern>/api/*</url-pattern>
   </servlet-mapping>
   <context-param>
      <param-name>security-enabled</param-name>
      <param-value>false</param-value>
   </context-param>
   <context-param>
      <description>Location to store uploaded file</description>
      <param-name>file-upload</param-name>
      <param-value>C:\\workspace\\Semoss_Dev\\</param-value>
   </context-param>
   <context-param>
      <description>Temporary - Location to store uploaded file</description>
      <param-name>temp-file-upload</param-name>
      <param-value>C:\\Temp</param-value>
   </context-param>
   <context-param>
      <description>The place where the core RDF Map gets picked from</description>
      <param-name>RDF-MAP</param-name>
      <param-value>C:\\workspace\\Semoss_Dev\\RDF_Map.prop</param-value>
   </context-param>
   
   <!-- OAUTH SECURITY -->
   <!-- GOOGLE -->
   <context-param>
      <param-name>google_client_id</param-name>
      <param-value>placeholder</param-value>
   </context-param>
   <context-param>
      <param-name>google_secret_key</param-name>
      <param-value>placeholder</param-value>
   </context-param>
   <context-param>
      <param-name>google_redirect_uri</param-name>
      <param-value>http://localhost:8080/Monolith_Dev/api/auth/login/google2</param-value>
   </context-param>
   <context-param>
      <param-name>google_scope</param-name>
      <param-value>https://www.googleapis.com/auth/forms https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/drive.metadata https://www.googleapis.com/auth/cloud-language</param-value>
   </context-param>
      <context-param>
      <param-name>google_access_type</param-name>
      <param-value>offline</param-value>
   </context-param>
   
   <listener>
      <listener-class>prerna.web.conf.DBLoader</listener-class>
   </listener>
   <listener>
      <listener-class>prerna.web.conf.UserDBLoader</listener-class>
   </listener>
   <session-config>
      <session-timeout>30</session-timeout>
   </session-config>
</web-app>